# Kenya Security Analysis Map

## Overview

The Kenya Security Analysis Map is an advanced, interactive web application designed to provide a comprehensive overview of urban security hotspots across Kenya. Leveraging the analytical power of Google's Gemini AI, this tool visualizes detailed, nuanced security insights on a high-performance Leaflet map. It serves as a powerful resource for individuals, businesses, and security professionals to assess risks, understand crime trends, and make informed decisions based on up-to-date, location-specific intelligence.

The application plots over 150 identified hotspots, each enriched with data points including a severity score, a summary of primary risks, key crime statistics, and a historical trend analysis. The user interface is designed for intuitive exploration, featuring a searchable list of towns, a responsive layout, and a resizable panel system that allows users to seamlessly switch between a detailed data view and a full-screen map-centric analysis.

![Kenya Security Analysis Screenshot](https://storage.googleapis.com/aistudio-ux-team-public/KENYA-SECURITY-ANALYSIS-SCREENSHOT.png)

## Key Features

-   **AI-Powered Insights**: All security data is generated by the Google Gemini API, providing a deep, qualitative analysis of crime patterns, risk factors, and security trends for each location.
-   **Comprehensive Nationwide Coverage**: Displays over 150 security hotspots, ensuring a granular view that covers major cities, regional centers, border towns, and rural hotspots in all 47 counties.
-   **Interactive Leaflet Map**: A fast, responsive map allows users to pan, zoom, and explore different regions. Markers are color-coded, and hovering reveals the town name for easy identification.
-   **Detailed Information Panel**: Selecting a town brings up a dedicated panel with:
    -   A **severity score** (1-10) for at-a-glance risk assessment.
    -   A concise **description** of the primary security threats.
    -   **Key crime statistics** (e.g., "Mugging: Frequent", "Banditry: High Risk").
    -   A summary of the **historical security trend**.
-   **Dynamic & Responsive Layout**:
    -   On desktop, a **draggable vertical divider** allows users to resize the info panel or collapse it entirely for a full-screen map view.
    -   On mobile, a **draggable horizontal divider** provides the same functionality, ensuring an optimal experience on any device.
-   **Instant Search**: A built-in search bar allows users to filter the list and quickly navigate to a specific town of interest.
-   **High-Performance Rendering**: The application uses a pre-generated static dataset, ensuring that all 150+ hotspots load and render instantly with no API latency for a smooth user experience.

## Tech Stack

-   **Frontend**: React, Vite, TypeScript
-   **Styling**: Tailwind CSS
-   **Mapping**: Leaflet, React-Leaflet
-   **AI Model**: Google Gemini API (`@google/genai`) for data generation.
-   **GeoJSON Data**: Simplified county border data for geographical context.

---

## Real-World Integration & Use Cases

This application is more than a data visualization tool; it's a strategic asset that can be integrated into various operational security frameworks.

#### For Private Security Firms
-   **Situational Awareness**: Use the map as a real-time briefing tool for security personnel, highlighting high-risk zones.
-   **Route Planning**: Plan safer travel routes for executive protection details or cash-in-transit vehicles, avoiding known hotspots.
-   **Client Advisory**: Provide data-driven security advisories to corporate clients, helping them mitigate risks for their employees and assets.
-   **Guard Deployment**: Allocate security guards and patrols more effectively by concentrating resources in areas with higher severity scores.

#### For Law Enforcement & Government Agencies
-   **Resource Allocation**: Inform decisions on where to establish new police posts or deploy special units.
-   **Crime Pattern Analysis**: Use the AI-generated trends to identify emerging hotspots and understand the evolving nature of crime in different regions.
-   **Public Safety Campaigns**: Create targeted public awareness campaigns based on the specific types of crime prevalent in a given area.

#### For Businesses & Corporations
-   **Risk Assessment**: Conduct thorough risk assessments before opening new offices, retail outlets, or industrial facilities.
-   **Employee Safety**: Develop safety protocols and travel guidelines for employees working in or commuting through identified hotspots.
-   **Supply Chain Security**: Identify vulnerabilities in supply chain routes and implement measures to protect goods in transit.

#### Technical Integration
While the current version uses a static dataset for performance, the underlying `geminiService.ts` can be adapted to create a production-ready API. This API could:
-   Provide a **JSON endpoint** for the hotspot data.
-   Allow this data to be fed into larger **Security Operations Center (SOC)** dashboards.
-   Trigger **automated alerts** in other systems when the AI model identifies a significant shift in a location's security trend.
-   Be integrated with GPS tracking systems to provide real-time risk alerts to personnel or vehicles in the field.

---

## Setup and Installation in Visual Studio Code

Follow these instructions to get the project up and running on your local machine for development and data regeneration.

### Prerequisites

-   [Node.js](https://nodejs.org/) (version 18.x or higher recommended)
-   [npm](https://www.npmjs.com/) or [yarn](https://yarnpkg.com/)
-   [Visual Studio Code](https://code.visualstudio.com/)
-   A **Google Gemini API Key**. You can get one from [Google AI Studio](https://aistudio.google.com/app/apikey). *(Note: The API key is only needed if you intend to regenerate the static data file.)*

### Step-by-Step Guide

#### 1. Clone the Repository

First, clone the project from GitHub to your local machine.
```bash
git clone https://github.com/your-username/kenya-security-map.git
cd kenya-security-map
```
*(Replace `your-username/kenya-security-map.git` with the actual repository URL)*

#### 2. Open in Visual Studio Code

Open the project directory with VS Code.
```bash
code .
```

#### 3. Install Dependencies

Open the integrated terminal in VS Code (`Ctrl + \`` or `View > Terminal`) and install the required npm packages.
```bash
npm install
```

#### 4. Run the Development Server

The application runs out-of-the-box using the pre-generated data. To start the Vite development server, run:
```bash
npm run dev
```
The application will be available at `http://localhost:5173`.

#### 5. (Optional) Regenerating Data with Gemini API

If you wish to update or change the list of towns, you will need to use the Gemini API.

-   **Create an Environment File**: In the root of the project, create a new file named `.env`.
-   **Add Your API Key**: Open `.env` and add your key:
    ```env
    API_KEY=YOUR_GEMINI_API_KEY_HERE
    ```
-   **Modify the Prompt**: Open `src/services/geminiService.ts` and adjust the `prompt` variable to change the data generation instructions.
-   **Run the Generation Script**: You would typically create a script to execute the `fetchTownHotspotData` function and write its output to `src/data/town-hotspots-data.ts`. This step is currently manual but could be automated with a simple Node.js script.
